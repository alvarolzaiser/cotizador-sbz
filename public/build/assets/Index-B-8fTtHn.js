import{d as _,p as y,A as v,c as k,o as n,w as p,a as o,e as a,f as b,F as w,h as E,k as r,x as c,t as u,g as m,b as C,z as V}from"./app-DGTndyHz.js";import{_ as U}from"./AppLayout-6J8VUfOg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},$={class:"bg-white border-b border-gray-200"},B={class:"text-gray-900 bg-gray-200 rounded-lg"},j={class:"flex justify-center"},A={class:"w-full overflow-x-auto"},D={key:0,class:"w-full text-md bg-white shadow-md rounded"},L={class:"p-3 px-5"},T=["onUpdate:modelValue"],F={key:1,class:"bg-transparent sm:rounded-lg"},I={class:"p-3 px-5"},q=["onUpdate:modelValue"],G={key:1,class:"bg-transparent sm:rounded-lg"},M={class:"p-3 px-5"},O=["onUpdate:modelValue"],R={key:1,class:"bg-transparent sm:rounded-lg"},H={class:"p-3 px-5"},J=["onUpdate:modelValue"],K={key:1,class:"bg-transparent sm:rounded-lg"},P={class:"p-3 px-5 flex justify-end"},Q=["onClick"],W=["onClick"],X=["onClick"],Y={key:1,class:"bg-white text-gray-500 p-10 flex flex-col justify-center"},Z={class:"text-center text-lg"},ne={__name:"Index",setup(ee){const g=_(y().props.clientes),i=_(g.value.map(t=>({...t,isEditing:!1})));function x(t){t.isEditing=!0}function f(t){t.isEditing=!1;const s=g.value.find(l=>l.id===t.id);t.nombre=s.nombre,t.email=s.email,t.telefono=s.telefono,t.direccion=s.direccion}const h=async t=>{try{const s=await V.put(`clientes/${t.id}`,{nombre:t.nombre?t.nombre:"Sin nombre",email:t.email?t.email:"Sin email",telefono:t.telefono?t.telefono:"Sin telefono",direccion:t.direccion?t.direccion:"Sin direccion"});t.isEditing=!1,console.log(s.data.message);const l=s.data.cliente,e=i.value.findIndex(d=>d.id===t.id);e!=-1&&(i.value[e]={...l,isEditing:!1})}catch(s){s.response&&s.response.status===422?console.error("Errores de validación:",s.response.data.errors):console.error("Error al actualizar el cliente:",s)}};return(t,s)=>{const l=v("Link");return n(),k(U,{title:"Clientes"},{header:p(()=>s[0]||(s[0]=[o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Clientes ",-1)])),default:p(()=>[o("div",z,[o("div",N,[o("div",S,[o("div",null,[o("div",$,[o("div",B,[o("div",j,[o("div",A,[i.value.length>0?(n(),a("table",D,[o("tbody",null,[s[1]||(s[1]=o("tr",{class:"border-b"},[o("th",{class:"text-left p-3 px-5"},"Nombre"),o("th",{class:"text-left p-3 px-5"},"Email"),o("th",{class:"text-left p-3 px-5"},"Telefono"),o("th",{class:"text-left p-3 px-5"},"Dirección"),o("th")],-1)),i.value.length>0?(n(!0),a(w,{key:0},E(i.value,e=>(n(),a("tr",{key:e.id,class:"border-b hover:bg-orange-100 bg-gray-100"},[o("td",L,[e.isEditing?r((n(),a("input",{key:0,type:"text","onUpdate:modelValue":d=>e.nombre=d,class:"bg-transparent sm:rounded-lg"},null,8,T)),[[c,e.nombre]]):(n(),a("p",F,u(e.nombre),1))]),o("td",I,[e.isEditing?r((n(),a("input",{key:0,type:"text","onUpdate:modelValue":d=>e.email=d,class:"bg-transparent sm:rounded-lg"},null,8,q)),[[c,e.email]]):(n(),a("p",G,u(e.email),1))]),o("td",M,[e.isEditing?r((n(),a("input",{key:0,type:"text","onUpdate:modelValue":d=>e.telefono=d,class:"bg-transparent sm:rounded-lg"},null,8,O)),[[c,e.telefono]]):(n(),a("p",R,u(e.telefono),1))]),o("td",H,[e.isEditing?r((n(),a("input",{key:0,type:"text","onUpdate:modelValue":d=>e.direccion=d,class:"bg-transparent sm:rounded-lg"},null,8,J)),[[c,e.direccion]]):(n(),a("p",K,u(e.direccion),1))]),o("td",P,[e.isEditing?(n(),a("button",{key:0,onClick:d=>h(e),type:"button",class:"mr-3 text-sm bg-blue-500 hover:bg-blue-700 text-white py-1 px-2 rounded focus:outline-none focus:shadow-outline"},"Guardar",8,Q)):b("",!0),e.isEditing?(n(),a("button",{key:1,onClick:d=>f(e),type:"button",class:"text-sm bg-red-500 hover:bg-red-700 text-white py-1 px-2 rounded focus:outline-none focus:shadow-outline"},"Cancelar",8,W)):(n(),a("button",{key:2,onClick:d=>x(e),type:"button",class:"mr-3 text-sm bg-blue-500 hover:bg-blue-700 text-white py-1 px-2 rounded focus:outline-none focus:shadow-outline"},"Editar",8,X))])]))),128)):b("",!0)])])):(n(),a("tr",Y,[o("p",Z,[s[3]||(s[3]=m("Aun no hay clientes. Realiza una cotizacion ")),C(l,{href:t.route("dashboard"),class:"text-blue-500 font-bold"},{default:p(()=>s[2]||(s[2]=[m("aquí")])),_:1},8,["href"]),s[4]||(s[4]=m(" para crearlos"))])]))])])])])])])])])]),_:1})}}};export{ne as default};
